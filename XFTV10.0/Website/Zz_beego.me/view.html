<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="author" content="slene, Unknown">

<title>模板处理 - beego: 简约 &amp; 强大并存的 Go 应用框架</title>




<script>/* Beego Compress group `lib` begin */</script>
	<link rel="stylesheet" href="static/css/bootstrap-1409586500.css">
	<link rel="stylesheet" href="static/css/bootstrap-theme-1409586500.css">
	<link rel="stylesheet" href="static/css/font-awesome.min-1409586500.css">
	<link rel="stylesheet" href="static/css/prettify-1409586500.css">
	<link rel="stylesheet" href="static/css/select2-1409586500.css">
	<script>/* end */</script>
<!--[if IE 7]>
<script>/* Beego Compress group `ie7` begin */</script>
	<link rel="stylesheet" href="/static_source/css/font-awesome-ie7.min.css?ver=1409586500" />
	<script>/* end */</script>
<![endif]-->
<script>/* Beego Compress group `app` begin */</script>
	<link rel="stylesheet" href="static/css/base-1409586500.css">
	<link rel="stylesheet" href="static/css/markdown-1409586500.css">
	<link rel="stylesheet" href="static/css/main-1409586500.css">
	<script>/* end */</script>

<!--[if lt IE 9]>
	<script>/* Beego Compress group `ie9` begin */</script>
	<script type="text/javascript" src="/static_source/js/html5shiv.js?ver=1409586500"></script>
	<script type="text/javascript" src="/static_source/js/respond.min.js?ver=1409586500"></script>
	<script>/* end */</script>
<![endif]-->
		
	</head>
	<body id="front">
		<noscript>请启用您浏览器的 JavaScript 选项！</noscript>
		<div id="wrapper">
			<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container" data-toggle="clingify">
        <div class="row">
            <div class="navbar-header">
                
                <span class="visible-xs">
                    <a id="docs-collapse-btn" class="navbar-btn" data-toggle="jpanel-menu" data-target="#docs-collapse">
                        <span class="sr-only">Toggle docs menu</span>
                        <i class="icon icon-angle-right"></i>
                    </a>
                </span>
                
                <a type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>
                <a class="hidden-xs logo" href="index.html">
                    <img style="height:32px;width:102px;" src="static/picture/beego_purple.png">
                </a>
                <div class="visible-xs text-center">
                    <a class="navbar-brand" href="index.html">
                        Beego
                    </a>
                    
                    <span class="nav-github">
                        <span rel="show-github" data-user="astaxie" data-repo="beego"></span>
                    </span>
                    
                </div>
            </div>
            <div class="collapse navbar-collapse" role="navigation" id="navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a href="index.html">首页</a></li>
                    <li><a href="quickstart.html">快速入门</a></li>
                    <li><a href="community.html">开发者社区</a></li>
                    <li class="active"><a href="index1.html">开发文档</a></li>
                    <li><a href="video.html">视频教程</a></li>
                    <li><a href="products.html">产品案例</a></li>
                    <li><a href="blog.html">官方博客</a></li>
                </ul>
                <div class="hidden-sm hidden-xs nav-lang pull-right">
                    <div class="btn-group">
                        <button type="button" class="btn btn-xs btn-default btn-md dropdown-toggle" data-toggle="dropdown">当前语言:简体中文 <i class="caret"></i></button>
                        <ul class="dropdown-menu">
                            
                                <li><a href="javascript::" data-lang="en-US" class="lang-changed">English</a></li>
                            
                                <li><a href="javascript::" data-lang="ru-RU" class="lang-changed">Russian</a></li>
                            
                        </ul>
                    </div>
                </div>
                <div class="hidden-sm hidden-xs nav-github pull-right">
                    <span rel="show-github" data-user="astaxie" data-repo="beego"></span>
                    <span rel="show-github" data-user="astaxie" data-repo="beego" data-type="fork"></span>
                </div>
            </div>
        </div>
    </div>
</nav>
			<div id="main">
				
<div class="container main-container">
    <div class="row">
        <div class="col-md-2 col-sm-3">
            <div id="docs-collapse" class="collapse navbar-collapse docs-sidenav">
                
                    
                    
    
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="index1.html">beego 简介</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="contributing.html">为 beego 贡献</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="releases.html">发布版本</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="upgrade.html">升级指南</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="index5.html">beego 安装升级</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="bee1.html">Bee 工具的使用</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="index6.html">快速入门</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="new.html">新建项目</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="router1.html">路由设置</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="controller.html">Controller 运行机制</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="model.html">model 逻辑</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="view1.html">view 编写</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="static.html">静态文件处理</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="index7.html">beego 的 MVC 架构</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                controller 设计
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="config.html">参数配置</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="router.html">路由设置</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="controller1.html">控制器函数</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="xsrf.html">XSRF 过滤</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="params.html">请求数据处理</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="session.html">session 控制</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="filter.html">过滤器</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="flash.html">flash 数据</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="urlbuilding.html">URL构建</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="jsonxml.html">多种格式数据输出</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="validation.html">表单数据验证</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="errors.html">错误处理</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="logs.html">日志处理</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                model 设计
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="overview.html">概述</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="orm.html">ORM 使用</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="object.html">CRUD 操作</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="query.html">高级查询</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="rawsql.html">原生 SQL 查询</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="querybuilder.html">构造查询</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="transaction.html">事务处理</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="models.html">模型定义</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="cmd.html">命令模式</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="test.html">测试用例</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="custom_fields.html">自定义字段</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="faq.html">FAQ</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                view 设计
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="tutorial.html">模板语法指南</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class="active item" href="">模板处理</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="template.html">模板函数</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="static1.html">静态文件处理</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="page.html">模板分页处理</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="index4.html">beego 的模块设计</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="session1.html">session 模块</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="grace.html">grace 模块</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="cache.html">cache 模块</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="logs1.html">logs 模块</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="httplib.html">httplib 模块</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="context.html">context 模块</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="toolbox.html">toolbox 模块</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="config1.html">config 模块</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="i18n.html">i18n 模块</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="index8.html">beego 高级编程</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="monitor.html">进程内监控</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="docs.html">API 自动化文档</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="index9.html">应用部署</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="beego.html">独立部署</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="supervisor.html">supervisor 部署</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="nginx.html">Nginx 部署</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="apache.html">apache 部署</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="index10.html">beego 第三方库</a>
                            
                            </div>
                            
    
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="index3.html">应用例子</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="chat.html">在线聊天室</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="shorturl.html">短域名服务</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="todo.html">Todo 列表</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                beego实用库
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="captcha.html">验证码</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="page1.html">分页</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="index11.html">FAQ</a>
                            
                            </div>
                            
    
        
    

                        </li>
                    
                
            </ul>
        
    

                
            </div>
        </div>
        <div class="col-md-10 col-sm-9">
            <div class="box">
				<div>
					<script>
					  (function() {
					    var cx = '014389342508982455625:6zv6mwcpcck';
					    var gcse = document.createElement('script');
					    gcse.type = 'text/javascript';
					    gcse.async = true;
					    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					        '//www.google.com/cse/cse.js?cx=' + cx;
					    var s = document.getElementsByTagName('script')[0];
					    s.parentNode.insertBefore(gcse, s);
					  })();
					</script>
					<gcse:search></gcse:search>
				</div>
                <div class="cell slim page-box">
                    <p>
                        <a href="javascript:window.open('https://github.com/beego/beedoc/blob/master/zh-CN/mvc/view/view.md');" class="pull-right btn btn-info" target="_blank">到 GitHub 上改进本页面</a>
                        <span class="clearfix"></span>
                    </p>
                    <div class="markdown docs-markdown">
                        <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title></title>
  <meta name="GENERATOR" content="Blackfriday Markdown Processor v1.1">
  <meta charset="utf-8">
</head>
<body>

<h1>模板处理</h1>

<p>beego 的模板处理引擎采用的是 Go 内置的 <code>html/template</code> 包进行处理，而且 beego 的模板处理逻辑是采用了缓存编译方式，也就是所有的模板会在 beego 应用启动的时候全部编译然后缓存在 map 里面。</p>

<h2>模板目录</h2>

<p>beego 中默认的模板目录是 <code>views</code>，用户可以把模板文件放到该目录下，beego 会自动在该目录下的所有模板文件进行解析并缓存，开发模式下每次都会重新解析，不做缓存。当然，用户也可以通过如下的方式改变模板的目录（只能指定一个目录为模板目录）：</p>

<pre><code>beego.ViewsPath = &quot;myviewpath&quot;
</code></pre>

<h2>自动渲染</h2>

<p>用户无需手动的调用渲染输出模板，beego 会自动的在调用完相应的 method 方法之后调用 Render 函数，当然如果您的应用是不需要模板输出的，那么可以在配置文件或者在 <code>main.go</code> 中设置关闭自动渲染。</p>

<p>配置文件配置如下：</p>

<pre><code>autorender = false
</code></pre>

<p>main.go 文件中设置如下：</p>

<pre><code>beego.AutoRender = false
</code></pre>

<h2>模板标签</h2>

<p>Go 语言的默认模板采用了 <code>{{</code> 和 <code>}}</code> 作为左右标签，但是我们有时候在开发中可能界面是采用了 AngularJS 开发，他的模板也是这个标签，故而引起了冲突。在 beego 中你可以通过配置文件或者直接设置配置变量修改：</p>

<pre><code>beego.TemplateLeft = &quot;&lt;&lt;&lt;&quot;
beego.TemplateRight = &quot;&gt;&gt;&gt;&quot;
</code></pre>

<h2>模板数据</h2>

<p>模板中的数据是通过在 Controller 中 <code>this.Data</code> 获取的，所以如果你想在模板中获取内容 <code>{{.Content}}</code> ,那么你需要在 Controller 中如下设置：</p>

<pre><code>this.Data[&quot;Content&quot;] = &quot;value&quot;
</code></pre>

<p>如何使用各种类型的数据渲染：</p>

<ul>
<li><p>结构体</p>

<p>结构体结构</p>

<pre><code>type A struct{
    Name string
    Age  int
}
</code></pre>

<p>控制器数据赋值</p>

<pre><code>this.Data[&quot;a&quot;]=&amp;A{Name:&quot;astaxie&quot;,Age:25}
</code></pre>

<p>模板渲染数据如下：</p>

<pre><code>the username is {{.a.Name}}
the age is {{.a.Age}}
</code></pre></li>

<li><p>map</p>

<p>控制器数据赋值</p>

<pre><code>mp[&quot;name&quot;]=&quot;astaxie&quot;
mp[&quot;nickname&quot;] = &quot;haha&quot;
this.Data[&quot;m&quot;]=mp
</code></pre>

<p>模板渲染数据如下：</p>

<pre><code>the username is {{.m.name}}
the username is {{.m.nickname}}
</code></pre></li>

<li><p>slice</p>

<p>控制器数据赋值</p>

<pre><code>ss :=[]string{&quot;a&quot;,&quot;b&quot;,&quot;c&quot;}
this.Data[&quot;s&quot;]=ss
</code></pre>

<p>模板渲染数据如下：</p>

<pre><code>{{range $key, $val := .s}}
{{$key}}
{{$val}}
{{end}}
</code></pre></li>
</ul>

<h2>模板名称</h2>

<p>beego 采用了 Go 语言内置的模板引擎，所有模板的语法和 Go 的一模一样，至于如何写模板文件，详细的请参考 <a href="javascript:window.open('https://github.com/astaxie/build-web-application-with-golang/blob/master/zh/07.4.md');">模板教程</a>。</p>

<p>用户通过在 Controller 的对应方法中设置相应的模板名称，beego 会自动的在 viewpath 目录下查询该文件并渲染，例如下面的设置，beego 会在 admin 下面找 add.tpl 文件进行渲染：</p>

<pre><code>this.TplName = &quot;admin/add.tpl&quot;
</code></pre>

<p>我们看到上面的模板后缀名是 tpl，beego 默认情况下支持 tpl 和 html 后缀名的模板文件，如果你的后缀名不是这两种，请进行如下设置：</p>

<pre><code>beego.AddTemplateExt(&quot;你文件的后缀名&quot;)
</code></pre>

<p>当你设置了自动渲染，然后在你的 Controller 中没有设置任何的 TplName，那么 beego 会自动设置你的模板文件如下：</p>

<pre><code>c.TplName = strings.ToLower(c.controllerName) + &quot;/&quot; + strings.ToLower(c.actionName) + &quot;.&quot; + c.TplExt
</code></pre>

<p>也就是你对应的 Controller 名字+请求方法名.模板后缀，也就是如果你的 Controller 名是 <code>AddController</code>，请求方法是 <code>POST</code>，默认的文件后缀是 <code>tpl</code>，那么就会默认请求 <code>/viewpath/AddController/post.tpl</code> 文件。</p>

<h2>Layout 设计</h2>

<p>beego 支持 layout 设计，例如你在管理系统中，整个管理界面是固定的，只会变化中间的部分，那么你可以通过如下的设置：</p>

<pre><code>this.Layout = &quot;admin/layout.html&quot;
this.TplName = &quot;admin/add.tpl&quot;
</code></pre>

<p>在 layout.html 中你必须设置如下的变量：</p>

<pre><code>{{.LayoutContent}}
</code></pre>

<p>beego 就会首先解析 TplName 指定的文件，获取内容赋值给 LayoutContent，然后最后渲染 layout.html 文件。</p>

<p>目前采用首先把目录下所有的文件进行缓存，所以用户还可以通过类似这样的方式实现 layout：</p>

<pre><code>{{template &quot;header.html&quot; .}}
Logic code
{{template &quot;footer.html&quot; .}}
</code></pre>

<blockquote>
<blockquote>
<blockquote>
<p>特别注意后面的<code>.</code>,这是传递当前参数到子模板</p>
</blockquote>
</blockquote>
</blockquote>

<h2>LayoutSection</h2>

<p>对于一个复杂的 <code>LayoutContent</code>，其中可能包括有javascript脚本、CSS 引用等，根据惯例，通常 css 会放到 Head 元素中，javascript 脚本需要放到 body 元素的末尾，而其它内容则根据需要放在合适的位置。在 <code>Layout</code> 页中仅有一个 <code>LayoutContent</code> 是不够的。所以在 <code>Controller</code> 中增加了一个 <code>LayoutSections</code>属性，可以允许 <code>Layout</code> 页中设置多个 <code>section</code>，然后每个 <code>section</code> 可以分别包含各自的子模板页。</p>

<p>layout_blog.tpl:</p>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Lin Li&lt;/title&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css&quot;&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;http://netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap-theme.min.css&quot;&gt;
    {{.HtmlHead}}
&lt;/head&gt;
&lt;body&gt;

    &lt;div class=&quot;container&quot;&gt;
        {{.LayoutContent}}
    &lt;/div&gt;
    &lt;div&gt;
        {{.SideBar}}
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;http://code.jquery.com/jquery-2.0.3.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;http://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;
    {{.Scripts}}
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>html_head.tpl:</p>

<pre><code>&lt;style&gt;
     h1 {
        color: red;
     }
&lt;/style&gt;
</code></pre>

<p>scripts.tpl：</p>

<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;
    $(document).ready(function() {
        // bla bla bla
    });
&lt;/script&gt;
</code></pre>

<p>逻辑处理如下所示：</p>

<pre><code>type BlogsController struct {
    beego.Controller
}

func (this *BlogsController) Get() {
    this.Layout = &quot;layout_blog.tpl&quot;
    this.TplName = &quot;blogs/index.tpl&quot;
    this.LayoutSections = make(map[string]string)
    this.LayoutSections[&quot;HtmlHead&quot;] = &quot;blogs/html_head.tpl&quot;
    this.LayoutSections[&quot;Scripts&quot;] = &quot;blogs/scripts.tpl&quot;
    this.LayoutSections[&quot;Sidebar&quot;] = &quot;&quot;
}
</code></pre>

<h2>renderform 使用</h2>

<p>定义 struct:</p>

<pre><code>type User struct {
    Id    int         `form:&quot;-&quot;`
    Name  interface{} `form:&quot;username&quot;`
    Age   int         `form:&quot;age,text,年龄：&quot;`
    Sex   string
    Intro string `form:&quot;,textarea&quot;`
}
</code></pre>

<ul>
<li>StructTag 的定义用的标签用为 <code>form</code>，和 <a href="params.html#%E7%9B%B4%E6%8E%A5%E8%A7%A3%E6%9E%90%E5%88%B0-struct">ParseForm 方法</a> 共用一个标签，标签后面有三个可选参数，用 <code>,</code> 分割。第一个参数为表单中类型的 <code>name</code> 的值，如果为空，则以 <code>struct field name</code> 为值。第二个参数为表单组件的类型，如果为空，则为 <code>text</code>。表单组件的标签默认为 <code>struct field name</code> 的值，否则为第三个值。<br></li>
<li>如果 <code>form</code> 标签只有一个值，则为表单中类型 <code>name</code> 的值，除了最后一个值可以忽略外，其他位置的必须要有 <code>,</code> 号分割，如：<code>form:&quot;,,姓名：&quot;</code><br></li>
<li>如果要忽略一个字段，有两种办法，一是：字段名小写开头，二是：<code>form</code> 标签的值设置为 <code>-</code><br></li>
<li>现在的代码版本只能实现固定的格式，用 br 标签实现换行，无法实现 css 和 class 等代码的插入。所以，要实现 form 的高级排版，不能使用 renderform 的方法，而需要手动处理每一个字段。<br></li>
</ul>

<p>controller：</p>

<pre><code>func (this *AddController) Get() {
    this.Data[&quot;Form&quot;] = &amp;User{}
    this.TplName = &quot;index.tpl&quot;
}
</code></pre>

<p>Form 的参数必须是一个 struct 的指针。</p>

<p>template:</p>

<pre><code>&lt;form action=&quot;&quot; method=&quot;post&quot;&gt;
{{.Form | renderform}}
&lt;/form&gt;
</code></pre>

<p>上面的代码生成的表单为：</p>

<pre><code>    Name: &lt;input name=&quot;username&quot; type=&quot;text&quot; value=&quot;test&quot;&gt;&lt;/br&gt;
    年龄：&lt;input name=&quot;age&quot; type=&quot;text&quot; value=&quot;0&quot;&gt;&lt;/br&gt;
    Sex: &lt;input name=&quot;Sex&quot; type=&quot;text&quot; value=&quot;&quot;&gt;&lt;/br&gt;
    Intro: &lt;input name=&quot;Intro&quot; type=&quot;textarea&quot; value=&quot;&quot;&gt;
</code></pre>

</body>
</html>

                    </div>
                </div>
            </div>
            <script type="text/javascript">
                var disqus_url = 'http://beego.me/docs/' + 'mvc\/view\/view.md?lang=zh-CN';
            </script>
            <div id="disqus_thread"></div>
<script type="text/javascript">
     
    var disqus_shortname = 'beego'; 

     
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="javascript:window.open('http://disqus.com/?ref_noscript');">comments powered by Disqus.</a></noscript>
<a href="javascript:window.open('http://disqus.com/');" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
    </div>
</div>

		    </div>
		    <div class="wrapper-push"></div>
		</div>
		<footer id="footer">
    <div class="container">
        <div class="row footer-wrap">
            <div class="col-md-12 desc">
                <div class="pull-right">
                    <div class="btn-group dropup">
                        <button type="button" class="btn btn-default btn-md dropdown-toggle" data-toggle="dropdown">当前语言:简体中文 <i class="caret"></i></button>
                        <ul class="dropdown-menu">
                            
                                <li><a href="javascript::" data-lang="en-US" class="lang-changed">English</a></li>
                            
                                <li><a href="javascript::" data-lang="ru-RU" class="lang-changed">Russian</a></li>
                            
                        </ul>
                    </div>
                    
                        <a class="btn btn-success" href="donate.html"><i class="icon-dollar"></i> 捐赠我们</a>
                    
                    
                </div>
                
                <p>
                    <a href="about.html"><strong>关于</strong></a>
                    |
                    <a href="team.html"><strong>团队</strong></a>
                    |
                    <a target="_blank" href="javascript:window.open('https://github.com/astaxie/beego');" target="_blank"><strong><i class="icon-github-sign"></i> Github</strong></a>
                    - 28ms.
                </p>

                <p>
                    版权所有 © 2012-2014 Beego 授权许可遵循 <a href="javascript:window.open('http://www.apache.org/licenses/LICENSE-2.0.html');">apache 2.0 licence</a> Logo由 <a target="_blank" href="javascript:window.open('http://mdong.org/');">Tengfei</a> 设计
                </p>

            </div>
        </div>
    </div>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-39123845-1', 'beego.me');
  ga('send', 'pageview');

</script>

<script>/* Beego Compress group `lib` begin */</script>
	<script type="text/javascript" src="static/js/jquery.min-1409586500.js"></script>
	<script type="text/javascript" src="static/js/jquery.extend-1409586500.js"></script>
	<script type="text/javascript" src="static/js/bootstrap-1409586500.js"></script>
	<script type="text/javascript" src="static/js/lib.min-1409586500.js"></script>
	<script type="text/javascript" src="static/js/prettify-1409586500.js"></script>
	<script type="text/javascript" src="static/js/jStorage-1409586500.js"></script>
	<script type="text/javascript" src="static/js/jquery.jpanelmenu.min-1409586500.js"></script>
	<script type="text/javascript" src="static/js/jRespond.min-1409586500.js"></script>
	<script type="text/javascript" src="static/js/jquery.clingify.min-1409586500.js"></script>
	<script type="text/javascript" src="static/js/imagesloaded.pkgd.min-1409586500.js"></script>
	<script type="text/javascript" src="static/js/masonry.pkgd.min-1409586500.js"></script>
	<script>/* end */</script>
<script>/* Beego Compress group `app` begin */</script>
	<script type="text/javascript" src="static/js/main-1409586500.js"></script>
	<script>/* end */</script>
	</body>
</html>



